<Window x:Class="ControlsTest.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ControlsTest"
        xmlns:controls="clr-namespace:Controls;assembly=Controls"
        mc:Ignorable="d"
        Title="MainWindow" Height="350" Width="524">
    <Window.Resources>
        <DrawingImage x:Key="img">
            <DrawingImage.Drawing>
                <DrawingGroup ClipGeometry="M0,0 V1024 H1024 V0 H0 Z">
                    <GeometryDrawing Brush="{Binding RelativeSource={RelativeSource FindAncestor,AncestorType=Grid},Path=Background}" Geometry="F1 M1024,1024z M0,0z M842.24,623.36L842.24,840.96 183.04,840.96 183.04,581.12 247.04,581.12 154.88,460.8 64,581.12 129.28,581.12 129.28,869.12C129.28,884.48,140.8,896,156.16,896L869.12,896C883.2,896,896,883.2,896,869.12L896,624.64 869.12,660.48 842.24,623.36z M896,460.8L896,323.84C896,317.44,893.44,311.04,888.32,305.92L862.72,279.04 888.32,252.16C893.44,247.04,896,240.64,896,234.24L896,157.44C896,140.8,883.2,128,869.12,128L156.16,128C140.8,128,129.28,139.52,129.28,154.88L129.28,231.68C129.28,239.36,131.84,245.76,136.96,250.88L163.84,277.76 136.96,304.64C131.84,309.76,129.28,316.16,129.28,323.84L129.28,417.28 156.16,382.72 183.04,418.56 183.04,335.36 221.44,298.24C226.56,293.12 229.12,286.72 229.12,279.04 229.12,271.36 226.56,264.96 221.44,259.84L183.04,222.72 183.04,183.04 842.24,183.04 842.24,222.72 807.68,261.12C798.72,271.36,798.72,288,807.68,298.24L842.24,335.36 842.24,460.8 778.24,460.8 869.12,581.12 960,460.8 896,460.8z" />
                    <GeometryDrawing Brush="#FF000000" Geometry="F1 M1024,1024z M0,0z M730.88,304.64C746.24,304.64 757.76,293.12 757.76,277.76 757.76,262.4 746.24,250.88 730.88,250.88L293.12,250.88C277.76,250.88 266.24,262.4 266.24,277.76 266.24,293.12 277.76,304.64 293.12,304.64L730.88,304.64z" />
                    <GeometryDrawing Brush="#FF000000" Geometry="F1 M1024,1024z M0,0z M474.88,540.16C471.04,547.84,462.08,560.64,454.4,569.6L496.64,569.6 496.64,605.44 285.44,605.44 285.44,569.6 326.4,569.6C318.72,559.36,308.48,546.56,303.36,541.44L323.84,526.08 295.68,526.08 295.68,490.24 369.92,490.24 369.92,476.16 322.56,476.16 322.56,464.64C313.6,469.76,303.36,474.88,293.12,478.72L275.2,441.6C322.56,424.96,350.72,407.04,369.92,384L409.6,384C430.08,408.32,459.52,426.24,504.32,441.6L487.68,477.44C477.44,473.6,467.2,469.76,456.96,463.36L456.96,474.88 409.6,474.88 409.6,488.96 483.84,488.96 483.84,524.8 454.4,524.8 474.88,540.16z M337.92,527.36C345.6,535.04,354.56,546.56,360.96,555.52L344.32,570.88 369.92,570.88 369.92,527.36 337.92,527.36z M359.68,444.16L419.84,444.16C408.32,436.48 399.36,428.8 390.4,419.84 382.72,427.52 372.48,435.2 359.68,444.16z M410.88,527.36L410.88,570.88 437.76,570.88 417.28,558.08C423.68,551.68,432.64,538.88,440.32,528.64L410.88,528.64z M559.36,448L559.36,481.28C559.36,544,551.68,582.4,541.44,611.84L505.6,601.6C518.4,563.2,524.8,532.48,524.8,474.88L524.8,391.68 720.64,391.68 720.64,448 559.36,448z M563.2,417.28L563.2,426.24 683.52,426.24 683.52,417.28 563.2,417.28z M723.2,536.32L723.2,586.24C723.2,604.16,715.52,610.56,693.76,613.12L680.96,614.4 674.56,597.76 664.32,600.32C664.32,597.76 663.04,595.2 663.04,592.64 648.96,593.92 622.08,596.48 605.44,597.76L602.88,570.88C608,569.6,615.68,570.88,624.64,569.6L624.64,556.8 599.04,556.8 599.04,611.84 564.48,611.84 564.48,536.32 624.64,536.32 624.64,527.36 568.32,527.36 568.32,481.28 624.64,481.28 624.64,476.16 568.32,477.44 567.04,454.4C613.12,454.4,677.12,453.12,714.24,451.84L716.8,473.6C700.16,474.88,679.68,473.6,659.2,474.88L659.2,481.28 712.96,481.28 712.96,527.36 659.2,527.36 659.2,536.32 723.2,536.32z M624.64,508.16L624.64,500.48 604.16,500.48 604.16,508.16 624.64,508.16z M688.64,556.8L648.96,556.8 648.96,569.6 657.92,569.6C656.64,565.76,656.64,561.92,655.36,560.64L670.72,558.08C672,560.64 674.56,573.44 678.4,583.68 684.8,582.4 687.36,581.12 687.36,574.72L687.36,556.8z M659.2,500.48L659.2,508.16 679.68,508.16 679.68,500.48 659.2,500.48z" />
                    <GeometryDrawing Brush="#FF000000" Geometry="F1 M1024,1024z M0,0z M336.64,704C346.88,716.8,359.68,727.04,375.04,736L368.64,746.24C353.28,736,340.48,724.48,331.52,711.68L331.52,750.08 321.28,750.08 321.28,711.68C312.32,724.48,300.8,733.44,284.16,746.24L277.76,736C295.68,725.76,308.48,715.52,317.44,704L281.6,704 281.6,693.76 320,693.76 320,678.4 288,678.4 288,668.16 320,668.16 320,652.8 330.24,652.8 330.24,666.88 362.24,666.88 362.24,678.4 330.24,678.4 330.24,693.76 368.64,693.76 368.64,704 336.64,704z M486.4,752.64C467.2,748.8 451.84,744.96 440.32,739.84 428.8,744.96 414.72,750.08 395.52,753.92L392.96,742.4C408.32,739.84 419.84,736 430.08,732.16 424.96,728.32 418.56,723.2 414.72,716.8L418.56,712.96 409.6,712.96 409.6,704 473.6,704 473.6,712.96C467.2,720.64 460.8,727.04 451.84,732.16 462.08,736 474.88,738.56 490.24,741.12L486.4,752.64z M407.04,706.56L396.8,706.56 396.8,683.52 413.44,683.52C410.88,679.68,408.32,673.28,407.04,670.72L412.16,668.16 401.92,668.16 400.64,659.2C421.12,659.2,459.52,656.64,478.72,654.08L481.28,664.32C477.44,664.32,474.88,664.32,471.04,665.6L477.44,668.16C474.88,673.28,471.04,678.4,468.48,683.52L485.12,683.52 485.12,706.56 476.16,706.56 476.16,693.76 408.32,693.76 408.32,706.56z M417.28,669.44C419.84,673.28,422.4,678.4,424.96,680.96L419.84,683.52 440.32,683.52C437.76,679.68,435.2,672,432.64,669.44L437.76,666.88 417.28,669.44z M423.68,712.96C427.52,718.08 432.64,723.2 440.32,727.04 448,723.2 453.12,718.08 458.24,712.96L423.68,712.96z M456.96,682.24C459.52,678.4,463.36,670.72,467.2,665.6L442.88,666.88 449.28,679.68 444.16,683.52 459.52,683.52 456.96,682.24z M528.64,704C523.52,698.88,513.28,691.2,508.16,687.36L513.28,678.4C518.4,682.24,528.64,688.64,535.04,693.76L528.64,704z M512,746.24C515.84,738.56,524.8,718.08,526.08,710.4L536.32,714.24C533.76,721.92,524.8,743.68,520.96,751.36L512,746.24z M533.76,678.4C528.64,673.28,519.68,666.88,514.56,663.04L519.68,654.08C524.8,657.92,535.04,664.32,538.88,668.16L533.76,678.4z M559.36,695.04L556.8,706.56 593.92,706.56C593.92,711.68 592.64,730.88 591.36,734.72 590.08,746.24 584.96,748.8 572.16,750.08L560.64,751.36 556.8,741.12 568.32,739.84C576,739.84 578.56,738.56 578.56,732.16 579.84,728.32 579.84,721.92 579.84,718.08L541.44,718.08 545.28,696.32 537.6,696.32 537.6,686.08 604.16,686.08 604.16,696.32 559.36,696.32z M596.48,670.72L544,670.72 544,660.48 596.48,660.48 596.48,670.72z M715.52,750.08C697.6,743.68,686.08,736,677.12,728.32L677.12,752.64 665.6,752.64 665.6,728.32C656.64,737.28,643.84,743.68,625.92,750.08L622.08,739.84C640,733.44,651.52,728.32,660.48,721.92L625.92,721.92 625.92,711.68 665.6,711.68 665.6,701.44 675.84,701.44 675.84,711.68 714.24,711.68 714.24,721.92 679.68,721.92C689.92,729.6,702.72,736,719.36,741.12L715.52,750.08z M641.28,687.36C637.44,684.8,627.2,678.4,623.36,677.12L627.2,668.16C631.04,669.44,641.28,675.84,645.12,678.4L641.28,687.36z M624.64,700.16C632.32,695.04,642.56,688.64,647.68,683.52L652.8,691.2C647.68,696.32,638.72,702.72,629.76,707.84L624.64,700.16z M650.24,673.28C645.12,669.44,636.16,664.32,632.32,661.76L636.16,654.08C640,656.64,650.24,661.76,654.08,664.32L650.24,673.28z M647.68,696.32C660.48,689.92,664.32,684.8,666.88,675.84L655.36,675.84 655.36,665.6 668.16,665.6 668.16,652.8 678.4,652.8 678.4,664.32 700.16,664.32 700.16,691.2C700.16,693.76,701.44,693.76,702.72,693.76L704,693.76C706.56,693.76 706.56,692.48 707.84,691.2 707.84,688.64 709.12,684.8 709.12,680.96L718.08,683.52C718.08,687.36 718.08,691.2 716.8,693.76 715.52,700.16 712.96,702.72 705.28,702.72L698.88,702.72C691.2,702.72,688.64,700.16,688.64,692.48L688.64,675.84 677.12,675.84C674.56,689.92,668.16,697.6,654.08,705.28L647.68,696.32z" />
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>

        <Style x:Key="myImg" TargetType="{x:Type controls:VectorImage}">
            <Setter Property="Source">
                <Setter.Value>
                    <DrawingImage>
                        <DrawingImage.Drawing>
                            <DrawingGroup ClipGeometry="M0,0 V1024 H1024 V0 H0 Z">
                                <GeometryDrawing Brush="{Binding RelativeSource={RelativeSource FindAncestor,AncestorType=controls:VectorImage},Path=Background}" Geometry="F1 M1024,1024z M0,0z M842.24,623.36L842.24,840.96 183.04,840.96 183.04,581.12 247.04,581.12 154.88,460.8 64,581.12 129.28,581.12 129.28,869.12C129.28,884.48,140.8,896,156.16,896L869.12,896C883.2,896,896,883.2,896,869.12L896,624.64 869.12,660.48 842.24,623.36z M896,460.8L896,323.84C896,317.44,893.44,311.04,888.32,305.92L862.72,279.04 888.32,252.16C893.44,247.04,896,240.64,896,234.24L896,157.44C896,140.8,883.2,128,869.12,128L156.16,128C140.8,128,129.28,139.52,129.28,154.88L129.28,231.68C129.28,239.36,131.84,245.76,136.96,250.88L163.84,277.76 136.96,304.64C131.84,309.76,129.28,316.16,129.28,323.84L129.28,417.28 156.16,382.72 183.04,418.56 183.04,335.36 221.44,298.24C226.56,293.12 229.12,286.72 229.12,279.04 229.12,271.36 226.56,264.96 221.44,259.84L183.04,222.72 183.04,183.04 842.24,183.04 842.24,222.72 807.68,261.12C798.72,271.36,798.72,288,807.68,298.24L842.24,335.36 842.24,460.8 778.24,460.8 869.12,581.12 960,460.8 896,460.8z" />
                                <GeometryDrawing Brush="{Binding RelativeSource={RelativeSource FindAncestor,AncestorType=controls:VectorImage},Path=Background}" Geometry="F1 M1024,1024z M0,0z M730.88,304.64C746.24,304.64 757.76,293.12 757.76,277.76 757.76,262.4 746.24,250.88 730.88,250.88L293.12,250.88C277.76,250.88 266.24,262.4 266.24,277.76 266.24,293.12 277.76,304.64 293.12,304.64L730.88,304.64z" />
                                <GeometryDrawing Brush="{Binding RelativeSource={RelativeSource FindAncestor,AncestorType=controls:VectorImage},Path=Background}" Geometry="F1 M1024,1024z M0,0z M474.88,540.16C471.04,547.84,462.08,560.64,454.4,569.6L496.64,569.6 496.64,605.44 285.44,605.44 285.44,569.6 326.4,569.6C318.72,559.36,308.48,546.56,303.36,541.44L323.84,526.08 295.68,526.08 295.68,490.24 369.92,490.24 369.92,476.16 322.56,476.16 322.56,464.64C313.6,469.76,303.36,474.88,293.12,478.72L275.2,441.6C322.56,424.96,350.72,407.04,369.92,384L409.6,384C430.08,408.32,459.52,426.24,504.32,441.6L487.68,477.44C477.44,473.6,467.2,469.76,456.96,463.36L456.96,474.88 409.6,474.88 409.6,488.96 483.84,488.96 483.84,524.8 454.4,524.8 474.88,540.16z M337.92,527.36C345.6,535.04,354.56,546.56,360.96,555.52L344.32,570.88 369.92,570.88 369.92,527.36 337.92,527.36z M359.68,444.16L419.84,444.16C408.32,436.48 399.36,428.8 390.4,419.84 382.72,427.52 372.48,435.2 359.68,444.16z M410.88,527.36L410.88,570.88 437.76,570.88 417.28,558.08C423.68,551.68,432.64,538.88,440.32,528.64L410.88,528.64z M559.36,448L559.36,481.28C559.36,544,551.68,582.4,541.44,611.84L505.6,601.6C518.4,563.2,524.8,532.48,524.8,474.88L524.8,391.68 720.64,391.68 720.64,448 559.36,448z M563.2,417.28L563.2,426.24 683.52,426.24 683.52,417.28 563.2,417.28z M723.2,536.32L723.2,586.24C723.2,604.16,715.52,610.56,693.76,613.12L680.96,614.4 674.56,597.76 664.32,600.32C664.32,597.76 663.04,595.2 663.04,592.64 648.96,593.92 622.08,596.48 605.44,597.76L602.88,570.88C608,569.6,615.68,570.88,624.64,569.6L624.64,556.8 599.04,556.8 599.04,611.84 564.48,611.84 564.48,536.32 624.64,536.32 624.64,527.36 568.32,527.36 568.32,481.28 624.64,481.28 624.64,476.16 568.32,477.44 567.04,454.4C613.12,454.4,677.12,453.12,714.24,451.84L716.8,473.6C700.16,474.88,679.68,473.6,659.2,474.88L659.2,481.28 712.96,481.28 712.96,527.36 659.2,527.36 659.2,536.32 723.2,536.32z M624.64,508.16L624.64,500.48 604.16,500.48 604.16,508.16 624.64,508.16z M688.64,556.8L648.96,556.8 648.96,569.6 657.92,569.6C656.64,565.76,656.64,561.92,655.36,560.64L670.72,558.08C672,560.64 674.56,573.44 678.4,583.68 684.8,582.4 687.36,581.12 687.36,574.72L687.36,556.8z M659.2,500.48L659.2,508.16 679.68,508.16 679.68,500.48 659.2,500.48z" />
                                <GeometryDrawing Brush="{Binding RelativeSource={RelativeSource FindAncestor,AncestorType=controls:VectorImage},Path=Background}" Geometry="F1 M1024,1024z M0,0z M336.64,704C346.88,716.8,359.68,727.04,375.04,736L368.64,746.24C353.28,736,340.48,724.48,331.52,711.68L331.52,750.08 321.28,750.08 321.28,711.68C312.32,724.48,300.8,733.44,284.16,746.24L277.76,736C295.68,725.76,308.48,715.52,317.44,704L281.6,704 281.6,693.76 320,693.76 320,678.4 288,678.4 288,668.16 320,668.16 320,652.8 330.24,652.8 330.24,666.88 362.24,666.88 362.24,678.4 330.24,678.4 330.24,693.76 368.64,693.76 368.64,704 336.64,704z M486.4,752.64C467.2,748.8 451.84,744.96 440.32,739.84 428.8,744.96 414.72,750.08 395.52,753.92L392.96,742.4C408.32,739.84 419.84,736 430.08,732.16 424.96,728.32 418.56,723.2 414.72,716.8L418.56,712.96 409.6,712.96 409.6,704 473.6,704 473.6,712.96C467.2,720.64 460.8,727.04 451.84,732.16 462.08,736 474.88,738.56 490.24,741.12L486.4,752.64z M407.04,706.56L396.8,706.56 396.8,683.52 413.44,683.52C410.88,679.68,408.32,673.28,407.04,670.72L412.16,668.16 401.92,668.16 400.64,659.2C421.12,659.2,459.52,656.64,478.72,654.08L481.28,664.32C477.44,664.32,474.88,664.32,471.04,665.6L477.44,668.16C474.88,673.28,471.04,678.4,468.48,683.52L485.12,683.52 485.12,706.56 476.16,706.56 476.16,693.76 408.32,693.76 408.32,706.56z M417.28,669.44C419.84,673.28,422.4,678.4,424.96,680.96L419.84,683.52 440.32,683.52C437.76,679.68,435.2,672,432.64,669.44L437.76,666.88 417.28,669.44z M423.68,712.96C427.52,718.08 432.64,723.2 440.32,727.04 448,723.2 453.12,718.08 458.24,712.96L423.68,712.96z M456.96,682.24C459.52,678.4,463.36,670.72,467.2,665.6L442.88,666.88 449.28,679.68 444.16,683.52 459.52,683.52 456.96,682.24z M528.64,704C523.52,698.88,513.28,691.2,508.16,687.36L513.28,678.4C518.4,682.24,528.64,688.64,535.04,693.76L528.64,704z M512,746.24C515.84,738.56,524.8,718.08,526.08,710.4L536.32,714.24C533.76,721.92,524.8,743.68,520.96,751.36L512,746.24z M533.76,678.4C528.64,673.28,519.68,666.88,514.56,663.04L519.68,654.08C524.8,657.92,535.04,664.32,538.88,668.16L533.76,678.4z M559.36,695.04L556.8,706.56 593.92,706.56C593.92,711.68 592.64,730.88 591.36,734.72 590.08,746.24 584.96,748.8 572.16,750.08L560.64,751.36 556.8,741.12 568.32,739.84C576,739.84 578.56,738.56 578.56,732.16 579.84,728.32 579.84,721.92 579.84,718.08L541.44,718.08 545.28,696.32 537.6,696.32 537.6,686.08 604.16,686.08 604.16,696.32 559.36,696.32z M596.48,670.72L544,670.72 544,660.48 596.48,660.48 596.48,670.72z M715.52,750.08C697.6,743.68,686.08,736,677.12,728.32L677.12,752.64 665.6,752.64 665.6,728.32C656.64,737.28,643.84,743.68,625.92,750.08L622.08,739.84C640,733.44,651.52,728.32,660.48,721.92L625.92,721.92 625.92,711.68 665.6,711.68 665.6,701.44 675.84,701.44 675.84,711.68 714.24,711.68 714.24,721.92 679.68,721.92C689.92,729.6,702.72,736,719.36,741.12L715.52,750.08z M641.28,687.36C637.44,684.8,627.2,678.4,623.36,677.12L627.2,668.16C631.04,669.44,641.28,675.84,645.12,678.4L641.28,687.36z M624.64,700.16C632.32,695.04,642.56,688.64,647.68,683.52L652.8,691.2C647.68,696.32,638.72,702.72,629.76,707.84L624.64,700.16z M650.24,673.28C645.12,669.44,636.16,664.32,632.32,661.76L636.16,654.08C640,656.64,650.24,661.76,654.08,664.32L650.24,673.28z M647.68,696.32C660.48,689.92,664.32,684.8,666.88,675.84L655.36,675.84 655.36,665.6 668.16,665.6 668.16,652.8 678.4,652.8 678.4,664.32 700.16,664.32 700.16,691.2C700.16,693.76,701.44,693.76,702.72,693.76L704,693.76C706.56,693.76 706.56,692.48 707.84,691.2 707.84,688.64 709.12,684.8 709.12,680.96L718.08,683.52C718.08,687.36 718.08,691.2 716.8,693.76 715.52,700.16 712.96,702.72 705.28,702.72L698.88,702.72C691.2,702.72,688.64,700.16,688.64,692.48L688.64,675.84 677.12,675.84C674.56,689.92,668.16,697.6,654.08,705.28L647.68,696.32z" />
                            </DrawingGroup>
                        </DrawingImage.Drawing>
                    </DrawingImage>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>
    <Grid Background="White">
        <StackPanel VerticalAlignment="Center" Orientation="Vertical" HorizontalAlignment="Center" >
            <controls:ImageButton ImageBackground="Red" ImageStyle="{StaticResource myImg}"  x:Name="PicButton" Height="40" Click="PicButton_Click"></controls:ImageButton>
        </StackPanel>
    </Grid>
</Window>
